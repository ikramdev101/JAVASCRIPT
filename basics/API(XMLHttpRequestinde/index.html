<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <div id="div"></div>
   <script>
      //GET
function getData() {
    let request = new XMLHttpRequest();
    request.open('GET', 'https://jsonplaceholder.typicode.com/posts');
    request.responseType = 'json';
    request.send();

    request.onload = function() {
        if (request.status >= 200 && request.status < 300) { // Correction: 200 et 299 pour vérifier le statut de succès
            let posts = request.response;
            for (let post of posts) { // Correction: ajouter "let" devant "post" pour la déclaration
                console.log(post);
                let h2 = document.createElement('h2');
                document.getElementById('div').append(h2);
                h2.textContent = post.title;
            }
        } else {
            console.error('Erreur lors de la requête:', request.status, request.statusText);
        }
    };

    request.onerror = function() {
        console.error('Erreur de réseau.');
    };
}
//POST
function postData() {
   // Create a new XMLHttpRequest object
   let request = new XMLHttpRequest();

   // Initialize the request with the POST method and the target URL
   request.open('POST', 'https://jsonplaceholder.typicode.com/posts');

   // Set the responseType to 'json' to automatically parse the response as JSON
   request.responseType = 'json';

   // Set the 'Accept' header to inform the server that we expect a JSON response
   request.setRequestHeader('Accept', 'application/json');

   // Set the 'Content-Type' header to 'application/json' to indicate that we're sending JSON data
   request.setRequestHeader('Content-Type', 'application/json');

   // Prepare the data to be sent in the request body
   // We use JSON.stringify to convert a JavaScript object to a JSON string
   let param = JSON.stringify({
      title: "ikamfalouh",
      body: "eeeeh elhalawa di",
      userId: 3
   });

   // Send the request with the JSON string as the body
   request.send(param);

   // Handle the response once the request has been completed
   request.onload = function () {
      // Access the parsed JSON response
      let data = request.response;

      // Log the response data to the console
      console.log(data);
   };

   // Handle any errors that occur during the request
   request.onerror = function () {
      console.error("An error occurred during the transaction");
   };
}

 
      }

   </script> 
</body>
</html>
